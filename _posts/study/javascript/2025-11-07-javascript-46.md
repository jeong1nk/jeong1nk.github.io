---
layout: single
title: "[javascript] 46ìž¥_ì œë„ˆë ˆì´í„°ì™€ async/await"
categories: javascript
tag: [study, javascript, frontend, ModernJavaScriptDeepDive]
toc: true
excerpt: "ModernJavaScriptDeepDive ë„ì„œì˜ 46ìž¥_ì œë„ˆë ˆì´í„°ì™€ async/await ì •ë¦¬"
---

# 46.1. ì œë„ˆë ˆì´í„°ëž€?
- **ðŸ·ï¸ì œë„ˆë ˆì´í„°: ES6ì—ì„œ ë„ìž…ë˜ì—ˆìœ¼ë©°, ì½”ë“œ ë¸”ë¡ì˜ ì‹¤í–‰ì„ ì¼ì‹œ ì¤‘ì§€í–ˆë‹¤ê°€ í•„ìš”í•œ ì‹œì ì— ìž¬ê°œí•  ìˆ˜ ìžˆëŠ” íŠ¹ìˆ˜í•œ í•¨ìˆ˜**
- ì œë„ˆë ˆì´í„°ì™€ ì¼ë°˜ í•¨ìˆ˜ì™€ì˜ ì°¨ì´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

**- 1. ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” í•¨ìˆ˜ í˜¸ì¶œìžì—ê²Œ í•¨ìˆ˜ ì‹¤í–‰ì˜ ì œì–´ê¶Œì„ ì–‘ë„í•  ìˆ˜ ìžˆë‹¤.**
  - ì¼ë°˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì œì–´ê¶Œì´ í•¨ìˆ˜ì—ê²Œ ë„˜ì–´ê°€ê³  í•¨ìˆ˜ ì½”ë“œë¥¼ ì¼ê´„ ì‹¤í–‰í•œë‹¤. ì¦‰, í•¨ìˆ˜ í˜¸ì¶œìžëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ì´í›„ í•¨ìˆ˜ ì‹¤í–‰ì„ ì œì–´í•  ìˆ˜ ì—†ë‹¤.
  - **ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ì‹¤í–‰ì„ í•¨ìˆ˜ í˜¸ì¶œìžê°€ ì œì–´í•  ìˆ˜ ìžˆë‹¤.**
  - ì´ëŠ” í•¨ìˆ˜ì˜ ì œì–´ê¶Œì„ í•¨ìˆ˜ê°€ ë…ì í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í•¨ìˆ˜ í˜¸ì¶œìžì—ê²Œ ì–‘ë„í•  ìˆ˜ ìžˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.   

**- 2. ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” í•¨ìˆ˜ í˜¸ì¶œìžì™€ í•¨ìˆ˜ì˜ ìƒíƒœë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìžˆë‹¤.** 
  - ì¼ë°˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ í•¨ìˆ˜ ì™¸ë¶€ì—ì„œ ê°’ì„ ì£¼ìž…ë°›ê³  í•¨ìˆ˜ ì½”ë“œë¥¼ ì¼ê´„ ì‹¤í–‰í•˜ì—¬ ê²°ê³¼ê°’ì„ í•¨ìˆ˜ ì™¸ë¶€ë¡œ ë°˜í™˜í•œë‹¤. ì¦‰, í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê³  ìžˆëŠ” ë™ì•ˆì—ëŠ” í•¨ìˆ˜ì™¸ë¶€ì—ì„œ í•¨ìˆ˜ ë‚´ë¶€ë¡œ ê°’ì„ ì „ë‹¬í•˜ì—¬ í•¨ìˆ˜ì˜ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.
  - **ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” í•¨ìˆ˜ í˜¸ì¶œìžì™€ ì–‘ë°©í–¥ìœ¼ë¡œ í•¨ìˆ˜ì˜ ìƒíƒœë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìžˆë‹¤.** ë‹¤ì‹œ ë§í•´, ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” í•¨ìˆ˜ í˜¸ì¶œìžì—ê²Œ ìƒíƒœë¥¼ ì „ë‹¬í•  ìˆ˜ ìžˆê³  í•¨ìˆ˜ í˜¸ì¶œìžë¡œë¶€í„° ìƒíƒœë¥¼ ì „ë‹¬ë°›ì„ ìˆ˜ ìžˆë‹¤.

**- 3. ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì œë„ˆë ˆì´í„° ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.**
  - ì¼ë°˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ í•¨ìˆ˜ ì½”ë“œë¥¼ ì¼ê´„ ì‹¤í–‰í•˜ê³  ê°’ì„ ë°˜í™˜í•œë‹¤.
  - **ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´** í•¨ìˆ˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ **ì´í„°ëŸ¬ë¸”ì´ë©´ì„œ ë™ì‹œì— ì´í„°ë ˆì´í„°ì¸ ì œë„ˆë ˆì´í„° ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.**

# 46.2. ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ì •ì˜
- **ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” `function*` í‚¤ì›Œë“œë¡œ ì„ ì–¸í•œë‹¤. ê·¸ë¦¬ê³  í•˜ë‚˜ ì´ìƒì˜ yield í‘œí˜„ì‹ì„ í¬í•¨í•œë‹¤.**
- ì´ê²ƒì„ ì œì™¸í•˜ë©´ ì¼ë°˜ í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ëŠ” ë°©ë²•ê³¼ ê°™ë‹¤.

```javascript
// ì œë„ˆë ˆì´í„° í•¨ìˆ˜ ì„ ì–¸ë¬¸
function* genDecFunc() {
  yield 1;
}

// ì œë„ˆë ˆì´í„° í•¨ìˆ˜ í‘œí˜„ì‹
const genExpFunc = function* () {
  yield 1;
};

// ì œë„ˆë ˆì´í„° ë©”ì„œë“œ
const obj = {
  * genObjMethod() {
    yield 1;
  }
};

// ì œë„ˆë ˆì´í„° í´ëž˜ìŠ¤ ë©”ì„œë“œ
class MyClass {
  * genClsMethod() {
    yield 1;
  }
}
```

- ì• ìŠ¤í„°ë¦¬ìŠ¤í¬(*)ì˜ ìœ„ì¹˜ëŠ” function í‚¤ì›Œë“œì™€ í•¨ìˆ˜ ì´ë¦„ ì‚¬ì´ë¼ë©´ ì–´ë””ë“ ì§€ ìƒê´€ì—†ë‹¤.
- ë‹¤ìŒ ì˜ˆì œì˜ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” ëª¨ë‘ ìœ íš¨í•˜ë‹¤. í•˜ì§€ë§Œ ì¼ê´€ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ **function í‚¤ì›Œë“œ ë°”ë¡œ ë’¤ì— ë¶™ì´ëŠ” ê²ƒì„ ê¶Œìž¥í•œë‹¤.**

```javascript
function* genFunc() { yield 1; }

function * genFunc() { yield 1; }

function *genFunc() { yield 1; }

function*genFunc() { yield 1; }
```

- **ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ì •ì˜í•  ìˆ˜ ì—†ë‹¤.**

```javascript
const genArrowFunc = * () => {
  yield 1;
}; // SyntaxError: Unexpected token '*'
```

- **ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” new ì—°ì‚°ìžì™€ í•¨ê»˜ ìƒì„±ìž í•¨ìˆ˜ë¡œ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤.**

```javascript
function* genFunc() {
  yield 1;
}

new genFunc(); // TypeError: genFunc is not a constructor
```

# 46.3. ì œë„ˆë ˆì´í„° ê°ì²´
- **ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì¼ë°˜ í•¨ìˆ˜ì²˜ëŸ¼ í•¨ìˆ˜ ì½”ë“œ ë¸”ë¡ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì œë„ˆë ˆì´í„° ê°ì²´ë¥¼ ìƒì„±í•´ ë°˜í™˜í•œë‹¤.**
- **ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ë°˜í™˜í•œ ì œë„ˆë ˆì´í„° ê°ì²´ëŠ” ì´í„°ëŸ¬ë¸”ì´ë©´ì„œ ë™ì‹œì— ì´í„°ë ˆì´í„°ì´ë‹¤.**
- ë‹¤ì‹œ ë§í•´, ì œë„ˆë ˆì´í„° ê°ì²´ëŠ” `Symbol.iterator` ë©”ì„œë“œë¥¼ ìƒì†ë°›ëŠ” ì´í„°ëŸ¬ë¸”ì´ë©´ì„œ value, done í”„ë¡œí¼í‹°ë¥¼ ê°–ëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” next ë©”ì„œë“œë¥¼ ì†Œìœ í•˜ëŠ” ì´í„°ë ˆì´í„°ë‹¤.
- ì œë„ˆë ˆì´í„° ê°ì²´ëŠ” next ë©”ì„œë“œë¥¼ ê°€ì§€ëŠ” ì´í„°ë ˆì´í„° ì´ë¯€ë¡œ `symbol.iterator` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ ë³„ë„ë¡œ ì´í„°ë ˆì´í„°ë¥¼ ìƒì„±í•  í•„ìš”ê°€ ì—†ë‹¤.

```javascript
// ì œë„ˆë ˆì´í„° í•¨ìˆ˜
function* genFunc() {
  yield 1;
  yield 2;
  yield 3;
}

// ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì œë„ˆë ˆì´í„° ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
const generator = genFunc();

// ì œë„ˆë ˆì´í„° ê°ì²´ëŠ” ì´í„°ëŸ¬ë¸”ì´ë©´ì„œ ë™ì‹œì— ì´í„°ë ˆì´í„°ë‹¤.
// ì´í„°ëŸ¬ë¸”ì€ Symbol.iterator ë©”ì„œë“œë¥¼ ì§ì ‘ êµ¬í˜„í•˜ê±°ë‚˜ í”„ë¡œí† íƒ€ìž… ì²´ì¸ì„ í†µí•´ ìƒì†ë°›ì€ ê°ì²´ë‹¤.
console.log(Symbol.iterator in generator); // true
// ì´í„°ë ˆì´í„°ëŠ” next ë©”ì„œë“œë¥¼ ê°–ëŠ”ë‹¤.
console.log('next' in generator); // true
```

- **ì œë„ˆë ˆì´í„° ê°ì²´ëŠ” next ë©”ì„œë“œë¥¼ ê°–ëŠ” ì´í„°ë ˆì´í„°ì§€ë§Œ ì´í„°ë ˆì´í„°ì—ëŠ” ì—†ëŠ” return, throw ë©”ì„œë“œë¥¼ ê°–ëŠ”ë‹¤.**
- ì œë„ˆë ˆì´í„° ê°ì²´ì˜ ì„¸ ê°œì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë™ìž‘í•œë‹¤.
  - next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ tield í‘œí˜„ì‹ê¹Œì§€ ì½”ë“œ ë¸”ë¡ì„ ì‹¤í–‰í•˜ê³   yieldëœ ê°’ì„ value í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ, falseë¥¼ done í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ ê°–ëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
  - return ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì¸ìˆ˜ë¡œ ì „ë‹¬ ë°›ì€ ê°’ì„ value í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ, trueë¥¼ done í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ ê°–ëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.

```javascript
function* genFunc() {
  try {
    yield 1;
    yield 2;
    yield 3;
  } catch (e) {
    console.error(e);
  }
}

const generator = genFunc();

console.log(generator.next()); // {value: 1, done: false}
console.log(generator.return('End!')); // {value: "End!", done: true}
```

  - throw ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ê³  undefinedë¥¼ value í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ, trueë¥¼ done í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ ê°–ëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.

```javascript
function* genFunc() {
  try {
    yield 1;
    yield 2;
    yield 3;
  } catch (e) {
    console.error(e);
  }
}

const generator = genFunc();

console.log(generator.next()); // {value: 1, done: false}
console.log(generator.throw('Error!')); // {value: undefined, done: true}
```

# 46.4. ì œë„ˆë ˆì´í„°ì˜ ì¼ì‹œ ì¤‘ì§€ì™€ ìž¬ê°œ
- **ì œë„ˆë ˆì´í„°ëŠ” yield í‚¤ì›Œë“œì™€ next ë©”ì„œë“œë¥¼ í†µí•´ í•¨ìˆ˜ í˜¸ì¶œìžì—ì„¸ ì œì–´ê¶Œì„ ì–‘ë„í•˜ì—¬ í•„ìš”í•œ ì‹œì ì— í•¨ìˆ˜ ì‹¤í–‰ì„ ìž¬ê°œí•  ìˆ˜ ìžˆë‹¤.**
- ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ì½”ë“œ ë¸”ë¡ì´ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì œë„ˆë ˆì´í„° ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤ê³  í–ˆë‹¤.
- ì´í„°ëŸ¬ë¸”ì´ë©´ì„œ ë™ì‹œì— ì´í„°ë ˆì´í„°ì¸ ì œë„ˆë ˆì´í„° ê°ì²´ëŠ” next ë©”ì„œë“œë¥¼ ê°€ì§€ë©°, next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ì½”ë“œ ë¸”ë¡ì„ ì‹¤í–‰í•œë‹¤.
- ë‹¨, ì¼ë°˜ í•¨ìˆ˜ì²˜ëŸ¼ í•œ ë²ˆì— ì½”ë“œ ë¸”ë¡ì˜ ëª¨ë“  ì½”ë“œë¥¼ ì¼ê´„ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ **yield í‘œí˜„ì‹ê¹Œì§€ë§Œ ì‹¤í–‰í•œë‹¤. yield í‚¤ì›Œë“œëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ì‹¤í–‰ì„ ì¼ì‹œ ì¤‘ì§€ì‹œí‚¤ê±°ë‚˜ yield í‚¤ì›Œë“œ ë’¤ì— ì˜¤ëŠ” í‘œí˜„ì‹ì˜ í‰ê°€ ê²°ê³¼ë¥¼ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ í˜¸ì¶œìžì—ê²Œ ë°˜í™˜í•œë‹¤.**

```javascript
// ì œë„ˆë ˆì´í„° í•¨ìˆ˜
function* genFunc() {
  yield 1;
  yield 2;
  yield 3;
}

// ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì œë„ˆë ˆì´í„° ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
// ì´í„°ëŸ¬ë¸”ì´ë©´ì„œ ë™ì‹œì— ì´í„°ë ˆì´í„°ì¸ ì œë„ˆë ˆì´í„° ê°ì²´ëŠ” next ë©”ì„œë“œë¥¼ ê°–ëŠ”ë‹¤.
const generator = genFunc();

// ì²˜ìŒ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì²« ë²ˆì§¸ yield í‘œí˜„ì‹ê¹Œì§€ ì‹¤í–‰ë˜ê³  ì¼ì‹œ ì¤‘ì§€ëœë‹¤.
// next ë©”ì„œë“œëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´({value, done})ë¥¼ ë°˜í™˜í•œë‹¤.
// value í”„ë¡œí¼í‹°ì—ëŠ” ì²« ë²ˆì§¸ yield í‘œí˜„ì‹ì—ì„œ yieldëœ ê°’ 1ì´ í• ë‹¹ëœë‹¤.
// done í”„ë¡œí¼í‹°ì—ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ëê¹Œì§€ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” falseê°€ í• ë‹¹ëœë‹¤.
console.log(generator.next()); // {value: 1, done: false}

// ë‹¤ì‹œ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ë‘ ë²ˆì§¸ yield í‘œí˜„ì‹ê¹Œì§€ ì‹¤í–‰ë˜ê³  ì¼ì‹œ ì¤‘ì§€ëœë‹¤.
// next ë©”ì„œë“œëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´({value, done})ë¥¼ ë°˜í™˜í•œë‹¤.
// value í”„ë¡œí¼í‹°ì—ëŠ” ë‘ ë²ˆì§¸ yield í‘œí˜„ì‹ì—ì„œ yieldëœ ê°’ 2ê°€ í• ë‹¹ëœë‹¤.
// done í”„ë¡œí¼í‹°ì—ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ëê¹Œì§€ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” falseê°€ í• ë‹¹ëœë‹¤.
console.log(generator.next()); // {value: 2, done: false}

// ë‹¤ì‹œ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì„¸ ë²ˆì§¸ yield í‘œí˜„ì‹ê¹Œì§€ ì‹¤í–‰ë˜ê³  ì¼ì‹œ ì¤‘ì§€ëœë‹¤.
// next ë©”ì„œë“œëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´({value, done})ë¥¼ ë°˜í™˜í•œë‹¤.
// value í”„ë¡œí¼í‹°ì—ëŠ” ì„¸ ë²ˆì§¸ yield í‘œí˜„ì‹ì—ì„œ yieldëœ ê°’ 3ì´ í• ë‹¹ëœë‹¤.
// done í”„ë¡œí¼í‹°ì—ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ëê¹Œì§€ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” falseê°€ í• ë‹¹ëœë‹¤.
console.log(generator.next()); // {value: 3, done: false}

// ë‹¤ì‹œ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ë‚¨ì€ yield í‘œí˜„ì‹ì´ ì—†ìœ¼ë¯€ë¡œ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ë§ˆì§€ë§‰ê¹Œì§€ ì‹¤í–‰í•œë‹¤.
// next ë©”ì„œë“œëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´({value, done})ë¥¼ ë°˜í™˜í•œë‹¤.
// value í”„ë¡œí¼í‹°ì—ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ undefinedê°€ í• ë‹¹ëœë‹¤.
// done í”„ë¡œí¼í‹°ì—ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ëê¹Œì§€ ì‹¤í–‰ë˜ì—ˆìŒì„ ë‚˜íƒ€ë‚´ëŠ” trueê°€ í• ë‹¹ëœë‹¤.
console.log(generator.next()); // {value: undefined, done: true}
```

- ì œë„ˆë ˆì´í„° ê°ì²´ì˜ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ **yield í‘œí˜„ì‹ê¹Œì§€ ì‹¤í–‰ë˜ê³  ì¼ì‹œ ì¤‘ì§€ ëœë‹¤. ì´ë•Œ í•¨ìˆ˜ì˜ ì œì–´ê¶Œì´ í˜¸ì¶œìžë¡œ ì–‘ë„ëœë‹¤. ì´í›„ í•„ìš”í•œ ì‹œì ì— í˜¸ì¶œìžê°€ ë˜ë‹¤ì‹œ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì¼ì‹œ ì¤‘ì§€ëœ ì½”ë“œë¶€í„° ì‹¤í–‰ì„ ìž¬ê°œí•˜ê¸° ì‹œìž‘í•˜ì—¬ ë‹¤ìŒ yield í‘œí˜„ì‹ê¹Œì§€ ì‹¤í–‰ë˜ê³  ë˜ ë‹¤ì‹œ ì¼ì‹œ ì¤‘ì§€ ëœë‹¤.**
- ì´ë•Œ ì œë„ˆë ˆì´í„° ê°ì²´ì˜ next ë©”ì„œë“œëŠ” value, done í”„ë¡œí¼í‹°ë¥¼ ê°–ëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.next ë©”ì„œë“œê°€  ë°˜í™˜í•œ ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ì´í„°ëŸ¬ë¸”ì´ë©´ì„œ ë™ì‹œì— ì´í„°ë ˆì´í„°ì¸ ì œë„ˆë ˆì´í„° ê°ì²´ëŠ” next ë©”ì„œë“œë¥¼ ê°€ì§€ë©°, next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ì½”ë“œ ë¸”ë¡ì„ ì‹¤í–‰í•œë‹¤.
- ë‹¨, ì¼ë°˜ í•¨ìˆ˜ì²˜ëŸ¼ í•œ ë²ˆì— ì½”ë“œ ë¸”ë¡ì˜ ëª¨ë“  ì½”ë“œë¥¼ ì¼ê´„ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ **yield í‘œí˜„ì‹ê¹Œì§€ë§Œ ì‹¤í–‰í•œë‹¤. yield í‚¤ì›Œë“œëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ì‹¤í–‰ì„ ì¼ì‹œ ì¤‘ì§€ì‹œí‚¤ê±°ë‚˜ yield í‚¤ì›Œë“œ ë’¤ì— ì˜¤ëŠ” í‘œí˜„ì‹ì˜ í‰ê°€ ê²°ê³¼ë¥¼ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ í˜¸ì¶œìžì—ê²Œ ë°˜í™˜í•œë‹¤.**

```javascript
// ì œë„ˆë ˆì´í„° í•¨ìˆ˜
function* genFunc() {
  yield 1;
  yield 2;
  yield 3;
}

// ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì œë„ˆë ˆì´í„° ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
// ì´í„°ëŸ¬ë¸”ì´ë©´ì„œ ë™ì‹œì— ì´í„°ë ˆì´í„°ì¸ ì œë„ˆë ˆì´í„° ê°ì²´ëŠ” next ë©”ì„œë“œë¥¼ ê°–ëŠ”ë‹¤.
const generator = genFunc();

// ì²˜ìŒ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì²« ë²ˆì§¸ yield í‘œí˜„ì‹ê¹Œì§€ ì‹¤í–‰ë˜ê³  ì¼ì‹œ ì¤‘ì§€ëœë‹¤.
// next ë©”ì„œë“œëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´({value, done})ë¥¼ ë°˜í™˜í•œë‹¤.
// value í”„ë¡œí¼í‹°ì—ëŠ” ì²« ë²ˆì§¸ yield í‘œí˜„ì‹ì—ì„œ yieldëœ ê°’ 1ì´ í• ë‹¹ëœë‹¤.
// done í”„ë¡œí¼í‹°ì—ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ëê¹Œì§€ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” falseê°€ í• ë‹¹ëœë‹¤.
console.log(generator.next()); // {value: 1, done: false}

// ë‹¤ì‹œ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ë‘ ë²ˆì§¸ yield í‘œí˜„ì‹ê¹Œì§€ ì‹¤í–‰ë˜ê³  ì¼ì‹œ ì¤‘ì§€ëœë‹¤.
// next ë©”ì„œë“œëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´({value, done})ë¥¼ ë°˜í™˜í•œë‹¤.
// value í”„ë¡œí¼í‹°ì—ëŠ” ë‘ ë²ˆì§¸ yield í‘œí˜„ì‹ì—ì„œ yieldëœ ê°’ 2ê°€ í• ë‹¹ëœë‹¤.
// done í”„ë¡œí¼í‹°ì—ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ëê¹Œì§€ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” falseê°€ í• ë‹¹ëœë‹¤.
console.log(generator.next()); // {value: 2, done: false}

// ë‹¤ì‹œ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì„¸ ë²ˆì§¸ yield í‘œí˜„ì‹ê¹Œì§€ ì‹¤í–‰ë˜ê³  ì¼ì‹œ ì¤‘ì§€ëœë‹¤.
// next ë©”ì„œë“œëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´({value, done})ë¥¼ ë°˜í™˜í•œë‹¤.
// value í”„ë¡œí¼í‹°ì—ëŠ” ì„¸ ë²ˆì§¸ yield í‘œí˜„ì‹ì—ì„œ yieldëœ ê°’ 3ì´ í• ë‹¹ëœë‹¤.
// done í”„ë¡œí¼í‹°ì—ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ëê¹Œì§€ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” falseê°€ í• ë‹¹ëœë‹¤.
console.log(generator.next()); // {value: 3, done: false}

// ë‹¤ì‹œ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ë‚¨ì€ yield í‘œí˜„ì‹ì´ ì—†ìœ¼ë¯€ë¡œ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ë§ˆì§€ë§‰ê¹Œì§€ ì‹¤í–‰í•œë‹¤.
// next ë©”ì„œë“œëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´({value, done})ë¥¼ ë°˜í™˜í•œë‹¤.
// value í”„ë¡œí¼í‹°ì—ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ undefinedê°€ í• ë‹¹ëœë‹¤.
// done í”„ë¡œí¼í‹°ì—ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ëê¹Œì§€ ì‹¤í–‰ë˜ì—ˆìŒì„ ë‚˜íƒ€ë‚´ëŠ” trueê°€ í• ë‹¹ëœë‹¤.
console.log(generator.next()); // {value: undefined, done: true}
```

- ì œë„ˆë ˆì´í„° ê°ì²´ì˜ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ **yield í‘œí˜„ì‹ê¹Œì§€ ì‹¤í–‰ë˜ê³  ì¼ì‹œ ì¤‘ì§€ ëœë‹¤. ì´ë•Œ í•¨ìˆ˜ì˜ ì œì–´ê¶Œì´ í˜¸ì¶œìžë¡œ ì–‘ë„ëœë‹¤. ì´í›„ í•„ìš”í•œ ì‹œì ì— í˜¸ì¶œìžê°€ ë˜ë‹¤ì‹œ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì¼ì‹œ ì¤‘ì§€ëœ ì½”ë“œë¶€í„° ì‹¤í–‰ì„ ìž¬ê°œí•˜ê¸° ì‹œìž‘í•˜ì—¬ ë‹¤ìŒ yield í‘œí˜„ì‹ê¹Œì§€ ì‹¤í–‰ë˜ê³  ë˜ ë‹¤ì‹œ ì¼ì‹œ ì¤‘ì§€ ëœë‹¤.**
- ì´ë•Œ ì œë„ˆë ˆì´í„° ê°ì²´ì˜ next ë©”ì„œë“œëŠ” value, done í”„ë¡œí¼í‹°ë¥¼ ê°–ëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤. next ë©”ì„œë“œê°€ ë°˜í™˜í•œ ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ì˜ value í”„ë¡œí¼í‹°ì—ëŠ” yield í‘œí˜„ì‹ì—ì„œ yieldëœ ê°’(yield í‚¤ì›Œë“œ ë’¤ì˜ ê°’)ì´ í• ë‹¹ë˜ê³  done í”„ë¡œí¼í‹°ì—ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ëê¹Œì§€ ì‹¤í–‰ë˜ì—ˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë¶ˆë¦¬ì–¸ ê°’ì´ í• ë‹¹ëœë‹¤.
- ì´ì²˜ëŸ¼ next ë©”ì„œë“œë¥¼ ë°˜ë³µ í˜¸ì¶œí•˜ì—¬ yield í‘œí˜„ì‹ê¹Œì§€ ì‹¤í–‰ê³¼ ì¼ì‹œ ì¤‘ì§€ë¥¼ ë°˜ë³µí•˜ë‹¤ê°€  ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ëŒê¹Œì§€ ì‹¤í–‰ë˜ë©´ next ë©”ì„œë“œê°€ ë°˜í™˜í•˜ëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ì˜ value í”„ë¡œí¼í‹°ì—ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ì´ í• ë‹¹ë˜ê³  done í”„ë¡œí¼í‹°ì—ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ëê¹Œì§€ ì‹¤í–‰ë˜ì—ˆìŒì„ ë‚˜íƒ€ë‚´ëŠ” trueê°€ í• ë‹¹ëœë‹¤.

```
generator.next() -> yield -> generator.next() -> yield -> ... -> generator.next() -> return
```

- ì´í„°ë ˆì´í„°ì˜ next ë©”ì„œë“œì™€ ë‹¬ë¦¬ ì œë„ˆë ˆì´í„° ê°ì²´ì˜ next ë©”ì„œë“œì—ëŠ” ì¸ìˆ˜ë¥¼ ì „ë‹¬í•  ìˆ˜ ìžˆë‹¤.
- ì œë„ˆë ˆì´í„° ê°ì²´ì˜ next ë©”ì„œë“œì— ì „ë‹¬í•œ ì¸ìˆ˜ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ yield í‘œí˜„ì‹ì„ í• ë‹¹ë°›ëŠ” ë³€ìˆ˜ì— í• ë‹¹ëœë‹¤. yield í‘œí˜„ì‹ì„ í• ë‹¹ë°›ëŠ” ë³€ìˆ˜ì— yield í‘œí˜„ì‹ì˜ í‰ê°€ ê²°ê³¼ê°€ í• ë‹¹ë˜ì§€ ì•ŠëŠ” ê²ƒì— ì£¼ì˜í•˜ìž.

```javascript
function* genFunc() {
  // ì²˜ìŒ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì²« ë²ˆì§¸ yield í‘œí˜„ì‹ê¹Œì§€ ì‹¤í–‰ë˜ê³  ì¼ì‹œ ì¤‘ì§€ëœë‹¤.
  // ì´ë•Œ yieldëœ ê°’ 1ì€ next ë©”ì„œë“œê°€ ë°˜í™˜í•œ ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ì˜ value í”„ë¡œí¼í‹°ì— í• ë‹¹ëœë‹¤.
  // x ë³€ìˆ˜ì—ëŠ” ì•„ì§ ì•„ë¬´ê²ƒë„ í• ë‹¹ë˜ì§€ ì•Šì•˜ë‹¤. x ë³€ìˆ˜ì˜ ê°’ì€ next ë©”ì„œë“œê°€ ë‘ ë²ˆì§¸ í˜¸ì¶œë  ë•Œ ê²°ì •ëœë‹¤.
  const x = yield 1;

  // ë‘ ë²ˆì§¸ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ ì „ë‹¬í•œ ì¸ìˆ˜ 10ì€ ì²« ë²ˆì§¸ yield í‘œí˜„ì‹ì„ í• ë‹¹ë°›ëŠ” x ë³€ìˆ˜ì— í• ë‹¹ëœë‹¤.
  // ì¦‰, const x = yield 1;ì€ ë‘ ë²ˆì§¸ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí–ˆì„ ë•Œ ì™„ë£Œëœë‹¤.
  // ë‘ ë²ˆì§¸ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ë‘ ë²ˆì§¸ yield í‘œí˜„ì‹ê¹Œì§€ ì‹¤í–‰ë˜ê³  ì¼ì‹œ ì¤‘ì§€ëœë‹¤.
  // ì´ë•Œ yieldëœ ê°’ x + 10ì€ next ë©”ì„œë“œê°€ ë°˜í™˜í•œ ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ì˜ value í”„ë¡œí¼í‹°ì— í• ë‹¹ëœë‹¤.
  const y = yield (x + 10);

  // ì„¸ ë²ˆì§¸ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ ì „ë‹¬í•œ ì¸ìˆ˜ 20ì€ ë‘ ë²ˆì§¸ yield í‘œí˜„ì‹ì„ í• ë‹¹ë°›ëŠ” y ë³€ìˆ˜ì— í• ë‹¹ëœë‹¤.
  // ì¦‰, const y = yield (x + 10);ëŠ” ì„¸ ë²ˆì§¸ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí–ˆì„ ë•Œ ì™„ë£Œëœë‹¤.
  // ì„¸ ë²ˆì§¸ next ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ í•¨ìˆ˜ ëê¹Œì§€ ì‹¤í–‰ëœë‹¤.
  // ì´ë•Œ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ x + yëŠ” next ë©”ì„œë“œê°€ ë°˜í™˜í•œ ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ì˜ value í”„ë¡œí¼í‹°ì— í• ë‹¹ëœë‹¤.
  // ì¼ë°˜ì ìœ¼ë¡œ ì œë„ˆë ˆì´í„°ì˜ ë°˜í™˜ê°’ì€ ì˜ë¯¸ê°€ ì—†ë‹¤.
  // ë”°ë¼ì„œ ì œë„ˆë ˆì´í„°ì—ì„œëŠ” ê°’ì„ ë°˜í™˜í•  í•„ìš”ê°€ ì—†ê³  returnì€ ì¢…ë£Œì˜ ì˜ë¯¸ë¡œë§Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
  return x + y;
}

// ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì œë„ˆë ˆì´í„° ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
// ì´í„°ëŸ¬ë¸”ì´ë©° ë™ì‹œì— ì´í„°ë ˆì´í„°ì¸ ì œë„ˆë ˆì´í„° ê°ì²´ëŠ” next ë©”ì„œë“œë¥¼ ê°–ëŠ”ë‹¤.
const generator = genFunc(0);

// ì²˜ìŒ í˜¸ì¶œí•˜ëŠ” next ë©”ì„œë“œì—ëŠ” ì¸ìˆ˜ë¥¼ ì „ë‹¬í•˜ì§€ ì•ŠëŠ”ë‹¤.
// ë§Œì•½ ì²˜ìŒ í˜¸ì¶œí•˜ëŠ” next ë©”ì„œë“œì— ì¸ìˆ˜ë¥¼ ì „ë‹¬í•˜ë©´ ë¬´ì‹œëœë‹¤.
// next ë©”ì„œë“œê°€ ë°˜í™˜í•œ ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ì˜ value í”„ë¡œí¼í‹°ì—ëŠ” ì²« ë²ˆì§¸ yieldëœ ê°’ 1ì´ í• ë‹¹ëœë‹¤.
let res = generator.next();
console.log(res); // {value: 1, done: false}

// next ë©”ì„œë“œì— ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ 10ì€ genFunc í•¨ìˆ˜ì˜ x ë³€ìˆ˜ì— í• ë‹¹ëœë‹¤.
// next ë©”ì„œë“œê°€ ë°˜í™˜í•œ ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ì˜ value í”„ë¡œí¼í‹°ì—ëŠ” ë‘ ë²ˆì§¸ yieldëœ ê°’ 20ì´ í• ë‹¹ëœë‹¤.
res = generator.next(10);
console.log(res); // {value: 20, done: false}

// next ë©”ì„œë“œì— ì¸ìˆ˜ë¡œ ì „ë‹¬í•œ 20ì€ genFunc í•¨ìˆ˜ì˜ y ë³€ìˆ˜ì— í• ë‹¹ëœë‹¤.
// next ë©”ì„œë“œê°€ ë°˜í™˜í•œ ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ì˜ value í”„ë¡œí¼í‹°ì—ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ 30ì´ í• ë‹¹ëœë‹¤.
res = generator.next(20);
console.log(res); // {value: 30, done: true}
```

- ì´ì²˜ëŸ¼ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” next ë©”ì„œë“œì™€ yield í‘œí˜„ì‹ì„ í†µí•´ í•¨ìˆ˜ í˜¸ì¶œìžì™€ í•¨ìˆ˜ì˜ ìƒíƒœë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìžˆë‹¤.
- í•¨ìˆ˜ í˜¸ì¶œìžëŠ” next ë©”ì„œë“œë¥¼ í†µí•´ yield í‘œí˜„ì‹ê¹Œì§€  í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œì¼œ ì œë„ˆë ˆì´í„° ê°ì²´ê°€ ê´€ë¦¬í•˜ëŠ” ìƒíƒœ(yieldëœ ê°’)ë¥¼ êº¼ë‚´ì˜¬ ìˆ˜ ìžˆê³ , next ë©”ì„œë“œì— ì¸ìˆ˜ë¥¼ ì „ë‹¬í•´ì„œ ì œë„ˆë ˆì´í„° ê°ì²´ì— ìƒíƒœ(yield í‘œí˜„ì‹ì„ í• ë‹¹ë°›ëŠ” ë³€ìˆ˜)ë¥¼ ë°€ì–´ë„£ì„ ìˆ˜ ìžˆë‹¤.
- ì´ëŸ¬í•œ ì œë„ˆë ˆì´í„° íŠ¹ì„±ì„ í™œìš©í•˜ë©´ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ë™ê¸° ì²˜ë¦¬ì²˜ëŸ¼ êµ¬í˜„í•  ìˆ˜ ìžˆë‹¤.

# 46.5. ì œë„ˆë ˆì´í„°ì˜ í™œìš©
### 46.5.1. ì´í„°ëŸ¬ë¸”ì˜ êµ¬í˜„
- ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ì´í„°ë ˆì´ì…˜ í”„ë¡œí† ì½œì„ ì¤€ìˆ˜í•´ ì´í„°ëŸ¬ë¸”ì„ ìƒì„±í•˜ëŠ” ë°©ì‹ë³´ë‹¤ ê°„ë‹¨ížˆ ì´í„°ëŸ¬ë¸”ì„ êµ¬í˜„í•  ìˆ˜ ìžˆë‹¤.
- ë¨¼ì € ì´í„°ë ˆì´ì…˜ í”„ë¡œí† ì½œì„ ì¤€ìˆ˜í•˜ì—¬ ë¬´í•œ íŒŒë³´ë‚˜ì¹˜ ìˆ˜ì—´ì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ë¥¼ êµ¬í˜„í•´ë³´ìž.

```javascript
// ë¬´í•œ ì´í„°ëŸ¬ë¸”ì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜
const infiniteFibonacci = (function () {
  let [pre, cur] = [0, 1];

  return {
    [Symbol.iterator]() { return this; },
    next() {
      [pre, cur] = [cur, pre + cur];
      // ë¬´í•œ ì´í„°ëŸ¬ë¸”ì´ë¯€ë¡œ done í”„ë¡œí¼í‹°ë¥¼ ìƒëžµí•œë‹¤.
      return { value: cur };
    }
  };
}());

// infiniteFibonacciëŠ” ë¬´í•œ ì´í„°ëŸ¬ë¸”ì´ë‹¤.
for (const num of infiniteFibonacci) {
  if (num > 10000) break;
  console.log(num); // 1 2 3 5 8...2584 4181 6765
}
```

- ì´ë²ˆì—ëŠ” ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬´í•œ íŒŒë³´ë‚˜ì¹˜ ìˆ˜ì—´ì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ë¥¼ êµ¬í˜•í•´ë³´ìž.
- ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ì‚¬ìš©í•˜ë©´ ì´í„°ë ˆì´ì…˜ í”„ë¡œí† ì½œì„ ì¤€ìˆ˜í•´ ì´í„°ëŸ¬ë¸”ì„ ìƒì„±í•˜ëŠ” ë°©ì‹ë³´ë‹¤ ê°„ë‹¨ížˆ ì´í„°ëŸ¬ë¸”ì„ êµ¬í˜„í•  ìˆ˜ ìžˆë‹¤.

```javascript
// ë¬´í•œ ì´í„°ëŸ¬ë¸”ì„ ìƒì„±í•˜ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜
const infiniteFibonacci = (function* () {
  let [pre, cur] = [0, 1];

  while (true) {
    [pre, cur] = [cur, pre + cur];
    yield cur;
  }
}());

// infiniteFibonacciëŠ” ë¬´í•œ ì´í„°ëŸ¬ë¸”ì´ë‹¤.
for (const num of infiniteFibonacci) {
  if (num > 10000) break;
  console.log(num); // 1 2 3 5 8...2584 4181 6765
}
```

### 46.5.2. ë¹„ë™ê¸° ì²˜ë¦¬
- ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” next ë©”ì„œë“œì™€ yield í‘œí˜„ì‹ì„ í†µí•´ í•¨ìˆ˜ í˜¸ì¶œìžì™€ í•¨ìˆ˜ì˜ ìƒíƒœë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìžˆë‹¤. ì´ëŸ¬í•œ íŠ¹ì„±ì„ í™œìš©í•˜ë©´ í”„ë¡œë¯¸ìŠ¤ë¥¼ ì‚¬ìš©í•œ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ë™ê¸° ì²˜ë¦¬ì²˜ëŸ¼ êµ¬í˜„í•  ìˆ˜ ìžˆë‹¤.
- ë‹¤ì‹œ ë§í•´, í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œ then/catch/finally ì—†ì´ ë¹„ë™ê¸°ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„í•  ìˆ˜ ìžˆë‹¤.

```javascript
// node-fetchëŠ” node.js í™˜ê²½ì—ì„œ window.fetch í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ íŒ¨í‚¤ì§€ë‹¤.
// ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ ì´ ì˜ˆì œë¥¼ ì‹¤í–‰í•œë‹¤ë©´ ì•„ëž˜ ì½”ë“œëŠ” í•„ìš” ì—†ë‹¤.
// https://github.com/node-fetch/node-fetch
const fetch = require('node-fetch');

// ì œë„ˆë ˆì´í„° ì‹¤í–‰ê¸°
const async = generatorFunc => {
  const generator = generatorFunc(); // â‘¡

  const onResolved = arg => {
    const result = generator.next(arg); // â‘¤

    return result.done
      ? result.value // â‘¨
      : result.value.then(res => onResolved(res)); // â‘¦
  };

  return onResolved; // â‘¢
};

(async(function* fetchTodo() { // â‘ 
  const url = 'https://jsonplaceholder.typicode.com/todos/1';

  const response = yield fetch(url); // â‘¥
  const todo = yield response.json(); // â‘§
  console.log(todo);
  // {userId: 1, id: 1, title: 'delectus aut autem', completed: false}
})()); // â‘£
```

- ìœ„ ì˜ˆì œì˜ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ì œë„ˆë ˆì´í„° ì‹¤í–‰ê¸°ì¸ async í•¨ìˆ˜ëŠ” ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ ê°„ëžµí™”í•œ ì˜ˆì œì´ë¯€ë¡œ ì™„ì „í•˜ì§€ ì•Šë‹¤.
- ë‹¤ìŒì— ì„¤ëª…í•  async/awaitë¥¼ ì‚¬ìš©í•˜ë©´ async í•¨ìˆ˜ì™€ ê°™ì€ ì œë„ˆë ˆì´í„° ì‹¤í–‰ê¸°ë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ì§€ë§Œ í˜¹ì‹œ ì œë„ˆë ˆì´í„° ì‹¤í–‰ê¸°ê°€ í•„ìš”í•˜ë‹¤ë©´ ì§ì ‘ êµ¬í˜„í•˜ëŠ” ê²ƒë³´ë‹¤ co ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê¸° ë°”ëž€ë‹¤.

```javascript
const fetch = require('node-fetch');
// https://github.com/tj/co
const co = require('co');

co(function* fetchTodo() {
  const url = 'https://jsonplaceholder.typicode.com/todos/1';

  const response = yield fetch(url);
  const todo = yield response.json();
  console.log(todo);
  // { userId: 1, id: 1, title: 'delectus aut autem', completed: false }
});
```

# 46.6. async/await
- ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•´ì„œ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ë™ê¸° ì²˜ë¦¬ì²˜ëŸ¼ ë™ìž‘í•˜ë„ë¡ êµ¬í˜„í–ˆì§€ë§Œ ì½”ë“œê°€ ë¬´ì²™ì´ë‚˜ ìž¥í™©í•´ì§€ê³  ê°€ë…ì„±ë„ ë‚˜ë¹ ì¡Œë‹¤.
- ES8ì—ì„œëŠ” ì œë„ˆë ˆì´í„° ë³´ë‹¤ ê°„ë‹¨í•˜ê³  ê°€ë…ì„±ì¢‹ê²Œ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ë™ê¸° ì²˜ë¦¬ì²˜ëŸ¼ ë™ìž‘í•˜ë„ë¡ êµ¬í˜„í•  ìˆ˜ ìžˆëŠ” async/awaitê°€ ë„ìž…ë˜ì—ˆë‹¤.
- **async/awaitëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ìž‘í•œë‹¤. async/awaitë¥¼ ì‚¬ìš©í•˜ë©´ í”„ë¡œë¯¸ìŠ¤ì˜ then/catch/finally í›„ì† ì²˜ë¦¬ ë©”ì„œë“œì— ì½œë°± í•¨ìˆ˜ë¥¼ ì „ë‹¬í•´ì„œ ë¹„ë™ê¸° ì²˜ë¦¬ ê²°ê³¼ë¥¼ í›„ì† ì²˜ë¦¬í•  í•„ìš” ì—†ì´ ë§ˆì¹˜ ë™ê¸° ì²˜ë¦¬ì²˜ëŸ¼ í”„ë¡œë¯¸ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.**
- ë‹¤ì‹œ ë§í•´, í”„ë¡œë¯¸ìŠ¤ì˜ í›„ì† ì²˜ë¦¬ ë©”ì„œë“œ ì—†ì´ ë§ˆì¹˜ ë™ê¸° ì²˜ë¦¬ì²˜ëŸ¼ í”„ë¡œë¯¸ìŠ¤ê°€ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„í•  ìˆ˜ ìžˆë‹¤.
- ìœ„ ì˜ˆì œë¥¼ async/awaitë¡œ ë‹¤ì‹œ êµ¬í˜„í•´ë³´ìž.

```javascript
const fetch = require('node-fetch');

async function fetchTodo() {
  const url = 'https://jsonplaceholder.typicode.com/todos/1';

  const response = await fetch(url);
  const todo = await response.json();
  console.log(todo);
  // {userId: 1, id: 1, title: 'delectus aut autem', completed: false}
}

fetchTodo();
```

### 46.6.1. async í•¨ìˆ˜
- await í‚¤ì›Œë“œëŠ” ë°˜ë“œì‹œ async í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
- async  í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ ì •ì˜í•˜ë©° ì–¸ì œë‚˜ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.
- async í•¨ìˆ˜ê°€ ëª…ì‹œì ìœ¼ë¡œ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ì§€ ì•Šë”ë¼ë„ async í•¨ìˆ˜ëŠ” ì•”ë¬µì ìœ¼ë¡œ ë°˜í™˜ê°’ì„ resolve í•˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.

```javascript
// async í•¨ìˆ˜ ì„ ì–¸ë¬¸
async function foo(n) { return n; }
foo(1).then(v => console.log(v)); // 1

// async í•¨ìˆ˜ í‘œí˜„ì‹
const bar = async function (n) { return n; };
bar(2).then(v => console.log(v)); // 2

// async í™”ì‚´í‘œ í•¨ìˆ˜
const baz = async n => n;
baz(3).then(v => console.log(v)); // 3

// async ë©”ì„œë“œ
const obj = {
  async foo(n) { return n; }
};
obj.foo(4).then(v => console.log(v)); // 4

// async í´ëž˜ìŠ¤ ë©”ì„œë“œ
class MyClass {
  async bar(n) { return n; }
}
const myClass = new MyClass();
myClass.bar(5).then(v => console.log(v)); // 5
```

- í´ëž˜ìŠ¤ì˜ constructor ë©”ì„œë“œëŠ” async ë©”ì„œë“œê°€ ë  ìˆ˜ ì—†ìœ¼ë©°, ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•´ì•¼ í•˜ì§€ë§Œ async í•¨ìˆ˜ëŠ” ì–¸ì œë‚˜ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤.

```javascript
class MyClass {
  async constructor() { }
  // SyntaxError: Class constructor may not be an async method
}

const myClass = new MyClass();
```

### 46.6.2. await í‚¤ì›Œë“œ
- await í‚¤ì›Œë“œëŠ” í”„ë¡œë¯¸ìŠ¤ê°€ settled ìƒíƒœ(ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ìˆ˜í–‰ëœ ìƒíƒœ)ê°€ ë  ë•Œê¹Œì§€ ëŒ€ê¸°í•˜ë‹¤ê°€ settled ìƒíƒœê°€ë˜ë©´ í”„ë¡œë¯¸ìŠ¤ê°€ resolveí•œ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤.
- await í‚¤ì›Œë“œëŠ” ë°˜ë“œì‹œ async í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

```javascript
const fetch = require('node-fetch');

const getGithubUserName = async id => {
  const res = await fetch(`https://api.github.com/users/${id}`); // â‘ 
  const { name } = await res.json(); // â‘¡
  console.log(name); // Ungmo Lee
};

getGithubUserName('ungmo2');
```

- await í‚¤ì›Œë“œëŠ” í”„ë¡œë¯¸ìŠ¤ê°€ settled ìƒíƒœê°€ ë  ë•Œê¹Œì§€ ëŒ€ê¸°í•œë‹¤ê³  í–ˆë‹¤. ë”°ë¼ì„œ â‘ ì˜ fetch í•¨ìˆ˜ê°€ ìˆ˜í–‰í•œ HTTP ìš”ì²­ì— ëŒ€í•œ ì„œë²„ì˜ ì‘ë‹µì´ ë„ì°©í•´ì„œ fetch í•¨ìˆ˜ê°€ ë°˜í™˜í•œ  í”„ë¡œë¯¸ìŠ¤ê°€ settled ìƒíƒœê°€ ë ë•Œê¹Œì§€ â‘ ì€ ëŒ€ê¸°í•˜ê²Œ ëœë‹¤.
- ì´í›„ í”„ë¡œë¯¸ìŠ¤ê°€ settled ìƒíƒœê°€ ë˜ë©´ í”„ë¡œë¯¸ìŠ¤ê°€  resolveí•œ ì²˜ë¦¬ ê²°ê³¼ê°€ res ë³€ìˆ˜ì— í• ë‹¹ëœë‹¤.
- ì´ì²˜ëŸ¼ await í‚¤ì›Œë“œ ë‹¤ìŒ ì‹¤í–‰ì„ ì¼ì‹œ ì¤‘ì§€ì‹œì¼°ë‹¤ê°€ í”„ë¡œë¯¸ìŠ¤ê°€ settled ìƒíƒœê°€  ë˜ë©´ ë‹¤ì‹œ ìž¬ê°œí•œë‹¤.

```javascript
async function foo() {
  const a = await new Promise(resolve => setTimeout(() => resolve(1), 3000));
  const b = await new Promise(resolve => setTimeout(() => resolve(2), 2000));
  const c = await new Promise(resolve => setTimeout(() => resolve(3), 1000));

  console.log([a, b, c]); // [1, 2, 3]
}

foo(); // ì•½ 6ì´ˆ ì†Œìš”ëœë‹¤.
```

- ëª¨ë“  í”„ë¡œë¯¸ìŠ¤ì— await í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì£¼ì˜í•´ì•¼ í•œë‹¤.
- ìœ„ ì˜ˆì œì˜ foo í•¨ìˆ˜ëŠ” ì¢…ë£Œë  ë•Œê¹Œì§€ì•½ 6ì´ˆê°€ ì†Œìš”ëœë‹¤. ì²«ë²ˆì§¸ í”„ë¡œë¯¸ìŠ¤ëŠ” settled ìƒíƒœê°€ ë  ë•Œê¹Œì§€ 3ì´ˆ, ë‘ ë²ˆì§¸ í”„ë¡œë¯¸ìŠ¤ëŠ” settled ìƒíƒœê°€ ë  ë•Œê¹Œì§€ 2ì´ˆ, ì„¸ ë²ˆì§¸ í”„ë¡œë¯¸ìŠ¤ëŠ” settled ìƒíƒœê°€ ë  ë•Œê¹Œì§€ 1ì´ˆê°€ ì†Œìš”ë˜ê¸° ë•Œë¬¸ì´ë‹¤.
- ê·¸ëŸ°ë° foo í•¨ìˆ˜ê°€ ìˆ˜í–‰í•˜ëŠ” 3ê°œì˜ ë¹„ë™ê¸° ì²˜ë¦¬ëŠ” ì„œë¡œ  ì—°ê´€ì´ ì—†ì´ ê°œë³„ì ìœ¼ë¡œ ìˆ˜í–‰ë˜ëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ì´ë¯€ë¡œ ì•žì„  ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì™„ë£Œë  ë•Œê¹Œì§€ëŒ€ê¸°í•´ì„œ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  í•„ìš”ê°€ ì—†ë‹¤.
- ë”°ë¼ì„œ foo í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

```javascript
async function foo() {
  const res = await Promise.all([
    new Promise(resolve => setTimeout(() => resolve(1), 3000)),
    new Promise(resolve => setTimeout(() => resolve(2), 2000)),
    new Promise(resolve => setTimeout(() => resolve(3), 1000))
  ]);

  console.log(res); // [1, 2, 3]
}

foo(); // ì•½ 3ì´ˆ ì†Œìš”ëœë‹¤.
```

- ë‹¤ìŒ bar í•¨ìˆ˜ëŠ” ì•žì„  ë¹„ë™ê¸° ì²˜ë¦¬ì˜ ê²°ê³¼ë¥¼ ê°€ì§€ê³  ë‹¤ìŒ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•´ì•¼ í•œë‹¤.
- ë”°ë¼ì„œ ë¹„ë™ê¸° ì²˜ë¦¬ì˜ ì²˜ë¦¬ ìˆœì„œê°€ ë³´ìž¥ë˜ì–´ì•¼ í•˜ë¯€ë¡œ ëª¨ë“  í”„ë¡œë¯¸ìŠ¤ì— await í‚¤ì›Œë“œë¥¼ ì¨ì„œ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ë°–ì— ì—†ë‹¤.

```javascript
async function bar(n) {
  const a = await new Promise(resolve => setTimeout(() => resolve(n), 3000));
  // ë‘ ë²ˆì§¸ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•˜ë ¤ë©´ ì²« ë²ˆì§¸ ë¹„ë™ê¸° ì²˜ë¦¬ ê²°ê³¼ê°€ í•„ìš”í•˜ë‹¤.
  const b = await new Promise(resolve => setTimeout(() => resolve(a + 1), 2000));
  // ì„¸ ë²ˆì§¸ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•˜ë ¤ë©´ ë‘ ë²ˆì§¸ ë¹„ë™ê¸° ì²˜ë¦¬ ê²°ê³¼ê°€ í•„ìš”í•˜ë‹¤.
  const c = await new Promise(resolve => setTimeout(() => resolve(b + 1), 1000));

  console.log([a, b, c]); // [1, 2, 3]
}

bar(1); // ì•½ 6ì´ˆ ì†Œìš”ëœë‹¤.
```

### 46.6.3. ì—ëŸ¬ ì²˜ë¦¬
- ë¯¸ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ ì½œë°± íŒ¨í„´ì˜ ë‹¨ì  ì¤‘ ê°€ìž¥ ì‹¬ê°í•œ ê²ƒì€ ì—ëŸ¬ ì²˜ë¦¬ê°€ ê³¤ëž€í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤.
- ì—ëŸ¬ëŠ” í˜¸ì¶œìž ë°©í–¥ìœ¼ë¡œ ì „íŒŒëœë‹¤. ì¦‰, ì½œ ìŠ¤íƒì˜ ì•„ëž˜ ë°©í–¥(ì‹¤í–‰ ì¤‘ì¸ ì‹¤í–‰ì»¨í…ìŠ¤íŠ¸ê°€ í‘¸ì‹œë˜ê¸° ì§ì „ì— í‘¸ì‹œëœ ì‹¤í–‰ ì»¨íƒìŠ¤íŠ¸ ë°©í–¥)ìœ¼ë¡œ ì „íŒŒëœë‹¤.
- í•˜ì§€ë§Œ ë¹„ë™ê¸° í•¨ìˆ˜ì˜ ì½œë°± í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ê²ƒì€ ë¹„ë™ê¸° í•¨ìˆ˜ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— try...catch ë¬¸ì„ ì‚¬ìš©í•´ ì—ëŸ¬ë¥¼ ìºì¹˜í•  ìˆ˜ ì—†ë‹¤.

```javascript
try {
  setTimeout(() => { throw new Error('Error!'); }, 1000);
} catch (e) {
  // ì—ëŸ¬ë¥¼ ìºì¹˜í•˜ì§€ ëª»í•œë‹¤
  console.error('ìºì¹˜í•œ ì—ëŸ¬', e);
}
```

- asynv/await ì—ëŸ¬ ì²˜ë¦¬ëŠ” try...catch ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤. ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ì™€ëŠ” ë‹¬ë¦¬ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ëŠ” ëª…ì‹œì ìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì— í˜¸ì¶œìžê°€ ëª…í™•í•˜ë‹¤.

```javascript
const fetch = require('node-fetch');

const foo = async () => {
  try {
    const wrongUrl = 'https://wrong.url';

    const response = await fetch(wrongUrl);
    const data = await response.json();
    console.log(data);
  } catch (err) {
    console.error(err); // TypeError: Failed to fetch
  }
};

foo();
```

- ìœ„ ì˜ˆì œì˜ foo í•¨ìˆ˜ì˜ catch ë¬¸ì€ HTTP í†µì‹ ì—ì„œ ë°œìƒí•œ ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ë¿ ì•„ë‹ˆë¼ try ì½”ë“œ ë¸”ë¡ ë‚´ì˜ ëª¨ë“ ë¬¸ì—ì„œ ë°œìƒí•œ ì¼ë°˜ì ì¸ ì—ëŸ¬ê¹Œì§€ ëª¨ë‘ ìºì¹˜í•  ìˆ˜ ìžˆë‹¤.
- async í•¨ìˆ˜ ë‚´ì—ì„¸ catch ë¬¸ì„ ì‚¬ìš©í•´ì„œ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•Šìœ¼ë©´ async í•¨ìˆ˜ëŠ” ë°œìƒí•œ ì—ëŸ¬ë¥¼ rejectí•˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.
- ë”°ë¼ì„œ async í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³  `Promise.prototype.catch` í›„ì† ì²˜ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ ì—ëŸ¬ë¥¼ ìºì¹˜í•  ìˆ˜ë„ ìžˆë‹¤.

```javascript
const fetch = require('node-fetch');

const foo = async () => {
  const wrongUrl = 'https://wrong.url';

  const response = await fetch(wrongUrl);
  const data = await response.json();
  return data;
};

foo()
  .then(console.log)
  .catch(console.error); // TypeError: Failed to fetch
```
  
